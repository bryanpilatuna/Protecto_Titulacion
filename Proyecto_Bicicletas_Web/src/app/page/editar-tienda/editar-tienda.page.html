<ion-header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light" style="background: #EAEAEA !important;">
    <a class="navbar-brand" href="editar-tienda">
      <img src="assets/inicio/bicisquito.png" height="50">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item" id="tab-editar-tienda">
          <a class="btn nav-link active" (click)="rediperfil()"><b>Perfil</b></a>
        </li>
        <li class="nav-item" id="tab-mis-bicis">
          <a class="btn nav-link" (click)="redibicicletas()">Bicicletas</a>
        </li>
        <li class="nav-item" id="tab-tienda-alquiler">
          <a class="btn nav-link" (click)="redialquileres()">Alquileres</a>
        </li>
        
        <li class="nav-item" id="tab-tienda-donacion">
          <a class="btn nav-link" (click)="redidonaciones()">Donaciones</a>
        </li>
        
        
     
    
      </ul>
      <form class="form-inline my-2 my-lg-0" >
        <a style="padding: 10px;" (click)="redinotifi()" >
          <app-header-tienda></app-header-tienda>
        </a>
        
        <a class="btn btn-outline-success my-2 my-sm-0" style="color: #3A6073;background-color: #fff;
        border: 1px solid #3A6073;" (click)="mensajeconfirmacionsalir()">Cerrar Sesión</a>
      </form>
    </div>
  </nav>
</ion-header>



<ion-content>
  <section class="py-5 text-center">
    <div class="container"> 
      <div class="row" style="border: #3A6073 2px solid;" >
        <div class="col" style="border: #3A6073 2px solid;">
          <div id="map" ></div>  
            <ion-button type="button" expand="block" color="tertiary" (click)="cambiarUbicacion()"><ion-icon slot="start" name="locate"></ion-icon>
              Actualizar mi Ubicación
            </ion-button>  
                 
    
        </div>
        <div class="col" style="border: #3A6073 2px solid;" >   
            <div class="row">
              
                <form [formGroup]="formGroup" (ngSubmit)="guardartienda()" *ngIf="tienda" >
                  <div class="row">  
                    <br>
                      <img [src]="tienda.logo" style="height:120px;display:block;margin:auto;padding-top: 10px;"/>
                  </div>
                  <br/>
                  <div class="row" style="display: flex;justify-content: center;">  
                    <label style="color:blue">
                      Cambiar foto de perfil
                      <input type="file" accept=".png, .jpg" name="fileSubir" (change)="subirImagen($event)" style="display:none;">
                    </label>
                  </div>
                  
                  <div class="form-group row">
                    <div class="col">
                      <label position="stacked"><strong>Nombre</strong></label>
                      <input class="form-control" type="text" placeholder="Bryan" formControlName="nombreControl" #nombre [(ngModel)]="tienda.nombre">
                      <div class="validation-errors">
                        <p class="form-error"
                          *ngIf="formGroup.get('nombreControl').hasError('required')">
                          *Requerido
                        </p>
                        <p class="form-error"
                          *ngIf="formGroup.get('nombreControl').hasError('minlength')">
                          *Mínimo 3 caracteres 
                        </p>
                        <p class="form-error"
                          *ngIf="formGroup.get('nombreControl').hasError('maxlength')">
                          *Máximo 40 caracteres  
                        </p>
                      </div>
                    </div>
                    <div class="col">
                      <label position="stacked"><strong>Teléfono</strong></label>
                      <input class="form-control" type="text" placeholder="0999999999" formControlName="telefonoControl" #telefono [(ngModel)]="tienda.telefono">
                      <div class="validation-errors">
                        <p class="form-error"
                          *ngIf="formGroup.get('telefonoControl').hasError('required')">
                          *Requerido
                        </p>
                        <p class="form-error"
                          *ngIf="formGroup.get('telefonoControl').hasError('minlength')">
                          *Mínimo 7 números 
                        </p>
                        <p class="form-error"
                          *ngIf="formGroup.get('telefonoControl').hasError('maxlength')">
                          *Máximo 10 números 
                        </p>
                        <p class="form-error"
                          *ngIf="formGroup.get('telefonoControl').hasError('pattern')">
                          *El teléfono debe tener solo números
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label position="stacked"><strong>Dirección</strong></label>
                    <textarea type="text" class="form-control" placeholder="Av. Las Americas N°212" formControlName="direccionControl" #direccion [(ngModel)]="tienda.direccion"  rows="2" cols="50"></textarea>
                  </div> 
                    <div class="validation-errors">
                      <p class="form-error"
                        *ngIf="formGroup.get('direccionControl').hasError('required')">
                        *Requerido
                      </p>
                      <p class="form-error"
                        *ngIf="formGroup.get('direccionControl').hasError('minlength')">
                        *Mínimo 3 caracteres 
                      </p>
                      <p class="form-error"
                        *ngIf="formGroup.get('direccionControl').hasError('maxlength')">
                        *Máximo 40 caracteres  
                      </p>
                    </div>
                  <div class="form-group row">
                    <div class="col">
                      <label position="stacked"><strong>¿Realizas auxilio mecánico? </strong></label>
                        <select [(ngModel)]="tienda.auxilio" formControlName="tipoControl" class="form-control">
                          <option value="Si" selected>Si</option>
                          <option value="No">No</option>
                        </select>
                    </div>
                    <div class="col">
                      <div class="form-group">
                        <label position="stacked"><strong>Correo electrónico</strong></label>
                        <p style="padding:10px;border: #3A6073 2px solid;border-radius: 5px;">{{tienda.correo}}</p>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <ion-button type="button" expand="block" color="tertiary" (click)="cambiarcontra()">Cambiar contraseña</ion-button>
                  </div>
                  <div class="form-group">
                    <ion-button type="submit" [disabled]="!formGroup.valid" expand="block">Guardar</ion-button>
                  </div>
                </form>
            
            </div>
        </div>
      </div>
      
    </div>
  </section>

  <app-footer></app-footer>
</ion-content>