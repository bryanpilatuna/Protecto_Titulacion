<ion-header>
  <app-header-administrador></app-header-administrador>
</ion-header>

<ion-content>
  <div class="container">
    <h5 align="center">Editar de perfil</h5>
    <div class="row">
      <div class="mx-auto">
        <form [formGroup]="formGroup" (ngSubmit)="guardarUsuario()" *ngIf="usuario" >
          <div class="row">  
              <img [src]="usuario.foto" style="height:150px;display:block;margin:auto"/>
          </div>
          <br/>
          <div class="row" style="display: flex;justify-content: center;">  
            <label style="color:blue">
              Cambiar foto de perfil
              <input type="file" name="fileSubir" (change)="subirImagen($event)" style="display:none;">
            </label>
          </div>
          
          <div class="form-group row">
            <div class="col">
              <label position="stacked"><strong>Nombre</strong></label>
              <input class="form-control" type="text" placeholder="Bryan" formControlName="nombreControl" #nombre [(ngModel)]="usuario.nombres">
              <div class="validation-errors">
                <p class="form-error"
                  *ngIf="formGroup.get('nombreControl').hasError('required') && formGroup.get('nombreControl').touched">
                  *Requerido
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('nombreControl').hasError('minlength') && formGroup.get('nombreControl').touched">
                  *Mínimo 3 caracteres 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('nombreControl').hasError('maxlength') && formGroup.get('nombreControl').touched">
                  *Máximo 40 caracteres  
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('nombreControl').hasError('pattern') && formGroup.get('nombreControl').touched">
                  *El nombre debe tener solo letras, la primera letra con mayúscula y sin espacios
                </p>
              </div>
            </div>
            <div class="col">
              <label position="stacked"><strong>Apellido</strong></label>
              <input class="form-control" type="text" placeholder="Molina" formControlName="apellidoControl" #apellido [(ngModel)]="usuario.apellidos">
              <div class="validation-errors">
                <p class="form-error"
                  *ngIf="formGroup.get('apellidoControl').hasError('required') && formGroup.get('apellidoControl').touched">
                  *Requerido
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('apellidoControl').hasError('minlength') && formGroup.get('apellidoControl').touched">
                  *Mínimo 3 caracteres 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('apellidoControl').hasError('maxlength') && formGroup.get('apellidoControl').touched">
                  *Máximo 40 caracteres  
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('apellidoControl').hasError('pattern') && formGroup.get('apellidoControl').touched">
                  *El nombre debe tener solo letras, la primera letra con mayúscula y sin espacios
                </p>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <div class="col">
              <label position="stacked"><strong>Cédula</strong></label>
              <input class="form-control" type="text" placeholder="0400887599" formControlName="cedulaControl" #cedula [(ngModel)]="usuario.cedula">
              <div class="validation-errors">
                <p class="form-error"
                  *ngIf="formGroup.get('cedulaControl').hasError('required') && formGroup.get('cedulaControl').touched">
                  *Requerido
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('cedulaControl').hasError('minlength') && formGroup.get('cedulaControl').touched">
                  *Mínimo 10 números 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('cedulaControl').hasError('maxlength') && formGroup.get('cedulaControl').touched">
                  *Máximo 13 números 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('cedulaControl').hasError('pattern') && formGroup.get('cedulaControl').touched">
                  *El nombre debe tener solo números
                </p>
              </div>
            </div>
            <div class="col">
              <label position="stacked"><strong>Teléfono</strong></label>
              <input class="form-control" type="text" placeholder="0999999999" formControlName="telefonoControl" #telefono [(ngModel)]="usuario.telefono">
              <div class="validation-errors">
                <p class="form-error"
                  *ngIf="formGroup.get('telefonoControl').hasError('required') && formGroup.get('telefonoControl').touched">
                  *Requerido
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('telefonoControl').hasError('minlength') && formGroup.get('telefonoControl').touched">
                  *Mínimo 7 números 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('telefonoControl').hasError('maxlength') && formGroup.get('telefonoControl').touched">
                  *Máximo 10 números 
                </p>
                <p class="form-error"
                  *ngIf="formGroup.get('telefonoControl').hasError('pattern') && formGroup.get('telefonoControl').touched">
                  *El nombre debe tener solo números
                </p>
              </div>
            </div>
          </div>
          
          
          <div class="form-group">
            <label position="stacked"><strong>Correo electrónico</strong></label>
            <input class="form-control" type="text" placeholder="abc@gmail.com" formControlName="emailControl" #email [(ngModel)]="usuario.correo" disabled="true">
          </div>
          <div class="validation-errors">
            <p class="form-error"
              *ngIf="formGroup.get('emailControl').hasError('required') && formGroup.get('emailControl').touched">
              *Requerido
            </p>
            <p class="form-error"
              *ngIf="formGroup.get('emailControl').hasError('email') && formGroup.get('emailControl').touched">
              *Ingrese un correo valido
            </p>
            <p class="form-error"
              *ngIf="formGroup.get('emailControl').hasError('minlength') && formGroup.get('emailControl').touched">
              *Mínimo 10 caracteres 
            </p>
            <p class="form-error"
              *ngIf="formGroup.get('emailControl').hasError('maxlength') && formGroup.get('emailControl').touched">
              *Máximo 40 caracteres  
            </p>
          </div>
          <div class="form-group">
            <ion-button type="button" expand="block" color="tertiary" (click)="cambiarcontra()">Cambiar contraseña</ion-button>
          </div>
          <div class="form-group">
            <ion-button type="submit" [disabled]="!formGroup.valid" expand="block">Guardar</ion-button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</ion-content>
