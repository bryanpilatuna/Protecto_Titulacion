<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Iniciar Sesión </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
  
  <div class="row" style="display: flex;justify-content: center;">
    <img width="40%" src="../../../assets/login/bicisin.png"/>
  </div>
  <form [formGroup]="formGroup" (ngSubmit)="onLogin()">
    <ion-item >
        <ion-label position="floating">
          <strong>Correo electrónico</strong>
        </ion-label>
        <ion-input formControlName="emailControl" [(ngModel)]="usuario" type="email" placeholder="abc@gmail.com">
        </ion-input>
    </ion-item>
	  <div class="validation-errors">
        <p class="form-error"
          *ngIf="(formGroup.get('emailControl').hasError('required') && formGroup.get('emailControl').touched) || formGroup.get('emailControl').pristine">
          *Requerido
        </p>
        <p class="form-error"
          *ngIf="formGroup.get('emailControl').hasError('email') && formGroup.get('emailControl').touched">
          *Ingrese un correo valido
        </p>
        <p class="form-error"
          *ngIf="formGroup.get('emailControl').hasError('minlength') && formGroup.get('emailControl').touched">
          *Mínimo 10 caracteres 
        </p>
        <p class="form-error"
          *ngIf="formGroup.get('emailControl').hasError('maxlength') && formGroup.get('emailControl').touched">
          *Máximo 40 caracteres  
        </p>
    </div>
    <ion-item >
      <ion-label position="floating"><strong>Contraseña</strong></ion-label>
      <div>
        <ion-input formControlName="passwordControl" [type]="passwordTypeInput" 
        #password placeholder="***********" [(ngModel)]="contrasena"></ion-input>
      </div>
      
      <button item-end type="button" class="btn_eye_icon" color="royal" style="border: none;" (click)="showPassword()">
        <ion-icon [name]="(passwordTypeInput === 'text')?'eye-off':'eye'" ></ion-icon>
      </button>
    </ion-item>
    
    
    <div class="validation-errors">
      <p class="form-error"
        *ngIf="(formGroup.get('passwordControl').hasError('required') && formGroup.get('passwordControl').touched) || formGroup.get('passwordControl').pristine">
        *Requerido
      </p>
      <p class="form-error"
        *ngIf="formGroup.get('passwordControl').hasError('minlength') && formGroup.get('passwordControl').touched">
        *Mínimo 8 caracteres 
      </p>
      <p class="form-error"
        *ngIf="formGroup.get('emailControl').hasError('passwordControl') && formGroup.get('passwordControl').touched">
        *Máximo 40 caracteres  
      </p>
    </div>

	  <div class="row">
      <p class="center-span">
        <a routerLink="/forgot-password">
          ¿Olvidaste tu contraseña?
        </a>
      </p>
    </div>

	  <div class="row">
      <ion-button [disabled]="!formGroup.valid" type="submit" expand="block">
        Iniciar sesión
      </ion-button>
    </div>
    <br/>
    <div class="row">
      <ion-button routerLink="/bienvenida" expand="block" shape="round" style="--background: white !important;color:#10CAB9;border-style: solid;border-color: #10CAB9;border-radius: 10px;"><ion-icon name="arrow-undo-outline"></ion-icon>Regresar</ion-button>
    </div>
  </form>

</ion-content>
